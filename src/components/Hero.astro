---
import logo from "@/assets/logo.png";
import Arrow from "@/assets/arrow.svg";
import Image from "astro/components/Image.astro";
import fallbackVideo from "@/assets/spiderman_v_fb.mp4";

const video =
    "https://res.cloudinary.com/dmylbehd5/video/upload/v1758596380/spiderman_v_dckcaq.mp4";
---

<div
    id="heroSection"
    class="relative -z-20 max-h-[96svh] w-full aspect-[9/16] flex items-end justify-center bg-black"
>
    <Image src={logo} alt="Logo de Astro" class="w-5/8 mb-6 z-30" />
    <div class="absolute w-full h-full -z-10">
        <video muted loop playsinline class="w-full h-full object-cover">
            <source src={video} type="video/mp4" />
            <source src={fallbackVideo} type="video/mp4" />
            Your browser does not support the video tag.
        </video>
    </div>
    <div
        id="sombra"
        class="absolute inset-0 bg-gradient-to-t from-1% from-black to-transparent"
    >
    </div>
</div>
<Arrow
    id="arrow-down"
    class="absolute right-2 bottom-6 size-8 z-30 text-amber-50 opacity-0 animate-bounce"
/>

<script>
    import { setHeroAnimation } from "@/libs/animations";

    document.addEventListener("DOMContentLoaded", () => {
        setHeroAnimation({
            heroSection: document.getElementById("heroSection") as HTMLElement,
            video: document.querySelector("video") as HTMLVideoElement,
            logo: document.querySelector("img") as HTMLElement,
            heroShadow: document.getElementById("sombra") as HTMLElement,
            arrowDown: document.getElementById("arrow-down") as HTMLElement,
        });
    });
</script>
